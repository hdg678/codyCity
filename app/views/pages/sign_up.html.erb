<script>
$(document).ready(function() {
  var user_types = ['instructor', 'student'];

  function deselect_all() {
    $(".selector-option").removeClass("selector-option-selected");
  }

  function set_form(user) {
    $('#registration-form').attr("action", "/" + user + "s");
    $('#email_input').attr("name", user + "[email]");
    $('#password_input').attr("name", user + "[password]");
  }

  function set_style(user) {
    index = user_types.indexOf(user);
    if (index == 0) {
      $('#session-inputs').addClass("jumbotron-form-sharp-top-left");
    } else {
      $('#session-inputs').removeClass("jumbotron-form-sharp-top-left");
    }
  }

  function select_professor() {
    deselect_all();
    $("#professor-selector").addClass("selector-option-selected");
    set_form("instructor");
    set_style("instructor");
  }

  function select_student() {
    deselect_all();
    $("#student-selector").addClass("selector-option-selected");
    set_form("student");
    set_style("student");
  }

  $("#professor-selector").click(function() {
    select_professor();
  });

  $("#student-selector").click(function() {
    select_student();
  });

  select_professor();
});
</script>
<div class="jumbotron">
  <h1>Create an Account</h1>
  <div class="horizontal-selector">
    <div class="selector-option" id="professor-selector">
      <h3>Professor</h3>
    </div>
    <div class="selector-option" id="student-selector">
      <h3>Student</h3>
    </div>
  </div>
  <%= form_tag registration_path(:instructor), id: 'registration-form' do |f| %>
    <div class="jumbotron-form" id="session-inputs">
      <div class="jumbotron-form-group">
        <p class="jumbotron-form-label"><span>First Name</span></p>
        <div class="jumbotron-form-input"><%= text_field_tag :first_name %></div>
      </div>
      <div class="jumbotron-form-group">
        <p class="jumbotron-form-label"><span>Last Name</span></p>
        <div class="jumbotron-form-input"><%= text_field_tag :last_name %></div>
      </div>
      <div class="jumbotron-form-group">
        <p class="jumbotron-form-label"><span>Email</span></p>
        <div class="jumbotron-form-input"><%= text_field_tag 'instructor[email]' %></div>
      </div>
      <div class="jumbotron-form-group">
        <p class="jumbotron-form-label"><span>Token</span></p>
        <div class="jumbotron-form-input"><%= text_field_tag :token %></div>
      </div>
      <div class="jumbotron-form-group">
        <p class="jumbotron-form-label"><span>Username</span></p>
        <div class="jumbotron-form-input"><%= text_field_tag :username %></div>
      </div>
      <div class="jumbotron-form-group">
        <p class="jumbotron-form-label"><span>Password</span></p>
        <div class="jumbotron-form-input"><%= password_field_tag 'instructor[password]' %></div>
      </div>
    </div>
    <%= submit_tag 'Sign Up', class: 'button' %>
  <% end %>
</div>
